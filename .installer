#!/bin/bash

case "$1" in

    install)
        for spec in ${APPS[*]}; do
            path=$(cut -d ":" -f 1 <<< $spec)
            name=$(cut -d ":" -f 2 <<< $spec)
            stow -v -t $path $name
        done
        ;;

    uninstall)
        for spec in ${APPS[*]}; do
            path=$(cut -d ":" -f 1 <<< $spec)
            name=$(cut -d ":" -f 2 <<< $spec)
            stow -v -t $path -D $name
        done
        ;;

    reinstall)
        "$0" "uninstall"
        "$0" "install"
        ;;

    help)
        echo "usage: $(basename $0) [install|uninstall|reinstall|help]" >&2
        ;;

    *)
        echo "error: command '$1' not recognized" 2>&1
        "$0" "help"
        exit 1
        ;;

esac
